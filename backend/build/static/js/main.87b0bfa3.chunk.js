(this["webpackJsonpproject-frontend"]=this["webpackJsonpproject-frontend"]||[]).push([[0],{15:function(e,t,a){e.exports=a(38)},20:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),d=a.n(r),c=a(4),i=a(2),o=(a(20),a(3)),s=a.n(o),u="http://localhost:3001/api/deliveries",m=function(){return s.a.get(u).then((function(e){return e.data}))},h=function(e){return s.a.post(u,e).then((function(e){return e.data}))},v=function(e,t){return s.a.put("".concat(u,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){return s.a.delete("".concat(u,"/").concat(e)).then((function(e){return e.data}))},f=function(e){var t=e.address,a=e.total,n=e.payment,r=e.handleAddress,d=e.handleTotal,c=e.handlePayment;return l.a.createElement("div",{className:"center"},l.a.createElement("div",null,l.a.createElement("label",null,"Address: "),l.a.createElement("input",{value:t,onChange:r})),l.a.createElement("div",null,l.a.createElement("label",null,"Total: "),l.a.createElement("input",{placeholder:"$0.00",value:a,onChange:d})),l.a.createElement("div",null,l.a.createElement("label",null,"Payment/Tip: "),l.a.createElement("input",{placeholder:"$0.00",value:n,onChange:c})))},E=function(e){var t=e.handleClick,a=e.handleTip;return l.a.createElement("div",{className:"center"},l.a.createElement("button",{className:"add",type:"submit",onClick:t},l.a.createElement("b",null,"Add Delivery")),l.a.createElement("button",{className:"add",type:"submit",onClick:a},l.a.createElement("b",null,"Add Tip")))},b=function(e){var t=e.deliveries,a=e.handleDelete,n=e.handleUpdate,r=e.handleSave,d=e.address,c=e.total,i=e.payment,o=e.handleAddress,s=e.handlePayment,u=e.handleTotal;return l.a.createElement("ol",null,t.map((function(e){return l.a.createElement("li",{className:"list",key:e.id},l.a.createElement("div",{className:"top"},l.a.createElement("b",null,"Address: ",e.address))," ",l.a.createElement("div",{className:"center"},"Total: $",e.total)," ",l.a.createElement("div",{className:"center"},"Payment: $",e.payment),l.a.createElement("button",{className:"add",value:e.id,onClick:n},l.a.createElement("b",null,"Update")),l.a.createElement("button",{className:"delete",value:e.id,onClick:a},l.a.createElement("b",null,"Delete")),l.a.createElement(k,{showUpdate:e.update,handleUpdate:n,id:e.id,delivery:e,handleSave:r,address:d,total:c,payment:i,handleAddress:o,handleTotal:u,handlePayment:s}))})))},y=function(e){var t=e.deliveries,a=0+e.tips;return t.map((function(e){return a+=parseFloat(e.payment)-parseFloat(e.total)})),l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"$",a.toFixed(2)))},T=function(e){var t=e.method,a=e.handleMethod,n=e.address,r=e.total,d=e.payment,c=e.handleClick,i=e.handleAddress,o=e.handleTotal,s=e.handlePayment,u=e.handleTip,m=e.deliveries,h=e.tips,v=e.handleDelete,p=e.handleUpdate,T=e.handleSave;return t?l.a.createElement("div",{className:"div-method"},l.a.createElement("button",{onClick:a,value:"Ticket",className:"method-selected"},"Ticket"),l.a.createElement("button",{onClick:a,value:"Previous Deliveries",className:"method"},"Previous Deliveries"),l.a.createElement(f,{address:n,total:r,payment:d,handleClick:c,handleAddress:i,handleTotal:o,handlePayment:s}),l.a.createElement(E,{handleClick:c,handleTip:u}),l.a.createElement(y,{deliveries:m,tips:h})):l.a.createElement("div",{className:"div-method"},l.a.createElement("button",{onClick:a,value:"Ticket",className:"method"},"Ticket"),l.a.createElement("button",{onClick:a,value:"Previous Deliveries",className:"method-selected"},"Previous Deliveries"),l.a.createElement(b,{address:n,total:r,payment:d,handleAddress:i,handleTotal:o,handlePayment:s,deliveries:m,handleDelete:v,handleUpdate:p,handleSave:T}))},k=function(e){var t=e.showUpdate,a=(e.handleUpdate,e.id),n=e.address,r=e.total,d=e.payment,c=e.handleAddress,i=e.handleTotal,o=e.handlePayment,s=e.delivery,u=e.handleSave;return t?l.a.createElement("div",{className:"center"},l.a.createElement(f,{address:n,total:r,payment:d,handleAddress:c,handleTotal:i,handlePayment:o,delivery:s}),l.a.createElement("div",null,l.a.createElement("button",{className:"add",type:"submit",onClick:u,value:a},"Save"))):null},N=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],d=Object(n.useState)(""),o=Object(i.a)(d,2),s=o[0],u=o[1],f=Object(n.useState)(""),E=Object(i.a)(f,2),b=E[0],y=E[1],k=Object(n.useState)(""),N=Object(i.a)(k,2),g=N[0],j=N[1],C=Object(n.useState)(!0),O=Object(i.a)(C,2),P=O[0],A=O[1],S=Object(n.useState)(0),w=Object(i.a)(S,2),D=w[0],U=w[1],I=Object(n.useState)(!1),$=Object(i.a)(I,2),F=$[0],x=$[1];Object(n.useEffect)((function(){m().then((function(e){r(e)}))}),[]);return l.a.createElement("div",null,l.a.createElement("div",{className:"banner"},l.a.createElement("h1",null,"Delivery Tracker")),l.a.createElement(T,{handleMethod:function(e){P&&"Ticket"===e.target.value||!1===P&&"Previous Deliveries"===e.target.value||(A(!P),u(""),y(""),j(""))},method:P,address:s,total:b,payment:g,handleClick:function(e){if(!Number.isInteger(parseInt(b))||!Number.isInteger(parseInt(g)))return window.alert("Enter a valid input for total and payment"),y(""),void j("");h({address:s,total:b,payment:g,update:!1}).then((function(e){r(a.concat(e)),u(""),y(""),j("")}))},handleAddress:function(e){u(e.target.value)},handleTotal:function(e){y(e.target.value)},handlePayment:function(e){j(e.target.value)},handleTip:function(e){if(!Number.isInteger(parseInt(g)))return window.alert("Enter a valid input for tip"),void j("");var t=D+parseFloat(g);U(t),j("")},deliveries:a,tips:D,handleDelete:function(e){var t=e.currentTarget.value;window.confirm("Are you sure you want to delete this delivery?")&&p(t).then((function(){r(a.filter((function(e){return e.id!==t})))}))},handleUpdate:function(e){var t=e.currentTarget.value,n=a.find((function(e){return e.id===t}));n.update=!n.update,x(!F),console.log(t)},update:F,handleSave:function(e){var t=e.currentTarget.value,n=a.find((function(e){return e.id===t}));n.update=!n.update,x(!F);var l=Object(c.a)(Object(c.a)({},n),{},{address:s,total:b,payment:g});console.log(l.address,l.total,l.payment),v(t,l).then((function(e){r(a.map((function(a){return a.id!==t?a:e})))})).catch((function(e){console.log("There was an error")}))}}))};d.a.render(l.a.createElement(N,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.87b0bfa3.chunk.js.map