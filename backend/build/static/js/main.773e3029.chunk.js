(this["webpackJsonpproject-frontend"]=this["webpackJsonpproject-frontend"]||[]).push([[0],{15:function(e,t,a){e.exports=a(47)},20:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),d=a.n(r),c=a(4),i=a(2),u=(a(20),a(3)),s=a.n(u),o="/api/deliveries",m=function(){return s.a.get(o).then((function(e){return e.data}))},h=function(e){return s.a.post(o,e).then((function(e){return e.data}))},v=function(e,t){return s.a.put("".concat(o,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){return s.a.delete("".concat(o,"/").concat(e)).then((function(e){return e.data}))},f=function(e){return s.a.get("/api/predictions",e).then((function(e){return e.data}))},E=(a(38),function(e){var t=e.address,a=e.total,n=e.payment,r=e.handleAddress,d=e.handleTotal,c=e.handlePayment;return l.a.createElement("div",{className:"center"},l.a.createElement("div",null,l.a.createElement("label",null,"Address: "),l.a.createElement("input",{value:t,onChange:r})),l.a.createElement("div",null,l.a.createElement("label",null,"Total: "),l.a.createElement("input",{placeholder:"$0.00",value:a,onChange:d})),l.a.createElement("div",null,l.a.createElement("label",null,"Payment/Tip: "),l.a.createElement("input",{placeholder:"$0.00",value:n,onChange:c})))}),b=function(e){var t=e.handleClick,a=e.handleTip;return l.a.createElement("div",{className:"center"},l.a.createElement("button",{className:"add",type:"submit",onClick:t},l.a.createElement("b",null,"Add Delivery")),l.a.createElement("button",{className:"add",type:"submit",onClick:a},l.a.createElement("b",null,"Add Tip")))},y=function(e){var t=e.deliveries,a=e.handleDelete,n=e.handleUpdate,r=e.handleSave,d=e.address,c=e.total,i=e.payment,u=e.handleAddress,s=e.handlePayment,o=e.handleTotal;return l.a.createElement("ol",null,t.map((function(e){return l.a.createElement("li",{className:"list",key:e.id},l.a.createElement("div",{className:"top"},l.a.createElement("b",null,"Address: ",e.address))," ",l.a.createElement("div",{className:"center"},"Total: $",e.total)," ",l.a.createElement("div",{className:"center"},"Payment: $",e.payment),l.a.createElement("button",{className:"add",value:e.id,onClick:n},l.a.createElement("b",null,"Update")),l.a.createElement("button",{className:"delete",value:e.id,onClick:a},l.a.createElement("b",null,"Delete")),l.a.createElement(k,{showUpdate:e.update,handleUpdate:n,id:e.id,delivery:e,handleSave:r,address:d,total:c,payment:i,handleAddress:u,handleTotal:o,handlePayment:s}))})))},T=function(e){var t=e.deliveries,a=0+e.tips;return t.map((function(e){return a+=parseFloat(e.payment)-parseFloat(e.total)})),l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"$",a.toFixed(2)))},N=function(e){var t=e.method,a=e.handleMethod,n=e.address,r=e.total,d=e.payment,c=e.handleClick,i=e.handleAddress,u=e.handleTotal,s=e.handlePayment,o=e.handleTip,m=e.deliveries,h=e.tips,v=e.handleDelete,p=e.handleUpdate,f=e.handleSave;return t?l.a.createElement("div",{className:"div-method"},l.a.createElement("button",{onClick:a,value:"Ticket",className:"method-selected"},"Ticket"),l.a.createElement("button",{onClick:a,value:"Previous Deliveries",className:"method"},"Previous Deliveries"),l.a.createElement(E,{address:n,total:r,payment:d,handleClick:c,handleAddress:i,handleTotal:u,handlePayment:s}),l.a.createElement(b,{handleClick:c,handleTip:o}),l.a.createElement(T,{deliveries:m,tips:h})):l.a.createElement("div",{className:"div-method"},l.a.createElement("button",{onClick:a,value:"Ticket",className:"method"},"Ticket"),l.a.createElement("button",{onClick:a,value:"Previous Deliveries",className:"method-selected"},"Previous Deliveries"),l.a.createElement(y,{address:n,total:r,payment:d,handleAddress:i,handleTotal:u,handlePayment:s,deliveries:m,handleDelete:v,handleUpdate:p,handleSave:f}))},k=function(e){var t=e.showUpdate,a=(e.handleUpdate,e.id),n=e.address,r=e.total,d=e.payment,c=e.handleAddress,i=e.handleTotal,u=e.handlePayment,s=e.delivery,o=e.handleSave;return t?l.a.createElement("div",{className:"center"},l.a.createElement(E,{address:n,total:r,payment:d,handleAddress:c,handleTotal:i,handlePayment:u,delivery:s}),l.a.createElement("div",null,l.a.createElement("button",{className:"add",type:"submit",onClick:o,value:a},"Save"))):null},j=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],d=Object(n.useState)(""),u=Object(i.a)(d,2),s=u[0],o=u[1],E=Object(n.useState)(""),b=Object(i.a)(E,2),y=b[0],T=b[1],k=Object(n.useState)(""),j=Object(i.a)(k,2),g=j[0],O=j[1],C=Object(n.useState)(!0),P=Object(i.a)(C,2),S=P[0],w=P[1],A=Object(n.useState)(0),D=Object(i.a)(A,2),I=D[0],U=D[1],$=Object(n.useState)(!1),F=Object(i.a)($,2),M=F[0],x=F[1],J=Object(n.useState)(!1),B=Object(i.a)(J,2),q=B[0],z=B[1],G=Object(n.useState)([]),H=Object(i.a)(G,2),K=H[0],L=H[1];Object(n.useEffect)((function(){m().then((function(e){r(e)}))}),[q]);var Q=parseInt(1e7*Math.random());return l.a.createElement("div",null,l.a.createElement("div",{className:"banner"},l.a.createElement("h1",null,"Delivery Tracker")),l.a.createElement(N,{handleMethod:function(e){S&&"Ticket"===e.target.value||!1===S&&"Previous Deliveries"===e.target.value||(w(!S),o(""),T(""),O(""))},method:S,address:s,total:y,payment:g,handleClick:function(e){if(!Number.isInteger(parseInt(y))||!Number.isInteger(parseInt(g)))return window.alert("Enter a valid input for total and payment"),T(""),void O("");h({address:s,total:y,payment:g,update:!1}).then((function(e){r(a.concat(e)),o(""),T(""),O("")}))},handleAddress:function(e){o(e.target.value),f({address:s,sessiontoken:Q}).then((function(e){L(e.predictions.map((function(e){return e.description})))})),console.log(K)},handleTotal:function(e){T(e.target.value)},handlePayment:function(e){O(e.target.value)},handleTip:function(e){if(!Number.isInteger(parseInt(g)))return window.alert("Enter a valid input for tip"),void O("");var t=I+parseFloat(g);U(t),O("")},deliveries:a,tips:I,handleDelete:function(e){var t=e.currentTarget.value;window.confirm("Are you sure you want to delete this delivery?")&&p(t).then((function(){r(a.filter((function(e){return e.id!==t})))}))},handleUpdate:function(e){var t=e.currentTarget.value;a.map((function(e){return e.id!==t?e.update=!1:e.update=!e.update})),x(!M),o(""),T(""),O("")},update:M,handleSave:function(e){if(!Number.isInteger(parseInt(y))||!Number.isInteger(parseInt(g)))return window.alert("Enter a valid input for total and payment"),T(""),void O("");var t=e.currentTarget.value,n=a.find((function(e){return e.id===t}));n.update=!n.update;var l=Object(c.a)(Object(c.a)({},n),{},{address:s,total:y,payment:g});v(t,l).then((function(e){r(a.map((function(a){return a.id!==t?a:e}))),z(!q)})).catch((function(e){console.log("There was an error")})),o(""),T(""),O("")}}))};d.a.render(l.a.createElement(j,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.773e3029.chunk.js.map