(this["webpackJsonpproject-frontend"]=this["webpackJsonpproject-frontend"]||[]).push([[0],{15:function(e,t,a){e.exports=a(38)},20:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),d=a.n(r),c=a(4),i=a(2),s=(a(20),a(3)),o=a.n(s),u="/api/deliveries",m=function(){return o.a.get(u).then((function(e){return e.data}))},p=function(e){return o.a.post(u,e).then((function(e){return e.data}))},h=function(e,t){return o.a.put("".concat(u,"/").concat(e),t).then((function(e){return e.data}))},v=function(e){return o.a.delete("".concat(u,"/").concat(e)).then((function(e){return e.data}))},E=function(e){return o.a.get("/api/predictions",{params:{address:e.address,sessiontoken:e.sessiontoken}}).then((function(e){return e.data}))},f=function(e){var t=e.address,a=e.total,n=e.payment,r=e.handleAddress,d=e.handleTotal,c=e.handlePayment,i=e.predictions;return i.length>2&&t.length>0?l.a.createElement("div",{className:"center"},l.a.createElement("div",null,l.a.createElement("label",null,"Address: "),l.a.createElement("input",{value:t,onChange:r}),l.a.createElement("div",{className:"center"},l.a.createElement("ul",null,i.map((function(e){return l.a.createElement("li",{className:"suggestion",key:e.description},l.a.createElement("input",{className:"no-show",defaultValue:e.description.slice(0,-9),onClick:r}))}))))),l.a.createElement("div",null,l.a.createElement("label",null,"Total: "),l.a.createElement("input",{placeholder:"$0.00",value:a,onChange:d})),l.a.createElement("div",null,l.a.createElement("label",null,"Payment/Tip: "),l.a.createElement("input",{placeholder:"$0.00",value:n,onChange:c}))):l.a.createElement("div",{className:"center"},l.a.createElement("div",null,l.a.createElement("label",null,"Address: "),l.a.createElement("input",{value:t,onChange:r})),l.a.createElement("div",null,l.a.createElement("label",null,"Total: "),l.a.createElement("input",{placeholder:"$0.00",value:a,onChange:d})),l.a.createElement("div",null,l.a.createElement("label",null,"Payment/Tip: "),l.a.createElement("input",{placeholder:"$0.00",value:n,onChange:c})))},b=function(e){var t=e.handleClick,a=e.handleTip;return l.a.createElement("div",{className:"center"},l.a.createElement("button",{className:"add",type:"submit",onClick:t},l.a.createElement("b",null,"Add Delivery")),l.a.createElement("button",{className:"add",type:"submit",onClick:a},l.a.createElement("b",null,"Add Tip")))},y=function(e){var t=e.deliveries,a=e.handleDelete,n=e.handleUpdate,r=e.handleSave,d=e.address,c=e.total,i=e.payment,s=e.handleAddress,o=e.handlePayment,u=e.handleTotal,m=e.predictions;return l.a.createElement("ol",null,t.map((function(e){return l.a.createElement("li",{className:"list",key:e.id},l.a.createElement("div",{className:"top"},l.a.createElement("b",null,"Address: ",e.address))," ",l.a.createElement("div",{className:"center"},"Total: $",e.total)," ",l.a.createElement("div",{className:"center"},"Payment: $",e.payment),l.a.createElement("button",{className:"add",value:e.id,onClick:n},l.a.createElement("b",null,"Update")),l.a.createElement("button",{className:"delete",value:e.id,onClick:a},l.a.createElement("b",null,"Delete")),l.a.createElement(T,{showUpdate:e.update,handleUpdate:n,id:e.id,delivery:e,handleSave:r,address:d,total:c,payment:i,handleAddress:s,handleTotal:u,handlePayment:o,predictions:m}))})))},g=function(e){var t=e.deliveries,a=0+e.tips;return t.map((function(e){return a+=parseFloat(e.payment)-parseFloat(e.total)})),l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"$",a.toFixed(2)))},N=function(e){var t=e.method,a=e.handleMethod,n=e.address,r=e.total,d=e.payment,c=e.handleClick,i=e.handleAddress,s=e.handleTotal,o=e.handlePayment,u=e.handleTip,m=e.deliveries,p=e.tips,h=e.handleDelete,v=e.handleUpdate,E=e.handleSave,N=e.predictions;return t?l.a.createElement("div",{className:"div-method"},l.a.createElement("button",{onClick:a,value:"Ticket",className:"method-selected"},"Ticket"),l.a.createElement("button",{onClick:a,value:"Previous Deliveries",className:"method"},"Previous Deliveries"),l.a.createElement(f,{address:n,total:r,payment:d,handleClick:c,handleAddress:i,handleTotal:s,handlePayment:o,predictions:N}),l.a.createElement(b,{handleClick:c,handleTip:u}),l.a.createElement(g,{deliveries:m,tips:p})):l.a.createElement("div",{className:"div-method"},l.a.createElement("button",{onClick:a,value:"Ticket",className:"method"},"Ticket"),l.a.createElement("button",{onClick:a,value:"Previous Deliveries",className:"method-selected"},"Previous Deliveries"),l.a.createElement(y,{address:n,total:r,payment:d,handleAddress:i,handleTotal:s,handlePayment:o,deliveries:m,handleDelete:h,handleUpdate:v,handleSave:E,predictions:N}))},T=function(e){var t=e.showUpdate,a=(e.handleUpdate,e.id),n=e.address,r=e.total,d=e.payment,c=e.handleAddress,i=e.handleTotal,s=e.handlePayment,o=e.delivery,u=e.handleSave,m=e.predictions;return t?l.a.createElement("div",{className:"center"},l.a.createElement(f,{address:n,total:r,payment:d,handleAddress:c,handleTotal:i,handlePayment:s,delivery:o,predictions:m}),l.a.createElement("div",null,l.a.createElement("button",{className:"add",type:"submit",onClick:u,value:a},"Save"))):null},k=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],d=Object(n.useState)(""),s=Object(i.a)(d,2),o=s[0],u=s[1],f=Object(n.useState)(""),b=Object(i.a)(f,2),y=b[0],g=b[1],T=Object(n.useState)(""),k=Object(i.a)(T,2),j=k[0],O=k[1],C=Object(n.useState)(!0),P=Object(i.a)(C,2),S=P[0],w=P[1],A=Object(n.useState)(0),I=Object(i.a)(A,2),D=I[0],U=I[1],$=Object(n.useState)(!1),F=Object(i.a)($,2),M=F[0],x=F[1],J=Object(n.useState)(!1),B=Object(i.a)(J,2),V=B[0],q=B[1],z=Object(n.useState)([]),G=Object(i.a)(z,2),H=G[0],K=G[1],L=Object(n.useState)(parseInt(1e7*Math.random())),Q=Object(i.a)(L,2),R=Q[0],W=Q[1];Object(n.useEffect)((function(){m().then((function(e){r(e)}))}),[V]),Object(n.useEffect)((function(){var e={address:o,sessiontoken:R};o.length>0&&E(e).then((function(e){K(e.predictions),console.log(H)}))}),[o]);return l.a.createElement("div",null,l.a.createElement("div",{className:"banner"},l.a.createElement("h1",null,"Delivery Tracker")),l.a.createElement(N,{handleMethod:function(e){S&&"Ticket"===e.target.value||!1===S&&"Previous Deliveries"===e.target.value||(w(!S),u(""),g(""),O(""))},method:S,address:o,total:y,payment:j,handleClick:function(e){if(!Number.isInteger(parseInt(y))||!Number.isInteger(parseInt(j)))return window.alert("Enter a valid input for total and payment"),g(""),void O("");p({address:o,total:y,payment:j,update:!1}).then((function(e){r(a.concat(e)),u(""),g(""),O(""),W(parseInt(1e7*Math.random()))}))},handleAddress:function(e){u(e.target.value)},handleTotal:function(e){g(e.target.value)},handlePayment:function(e){O(e.target.value)},handleTip:function(e){if(!Number.isInteger(parseInt(j)))return window.alert("Enter a valid input for tip"),void O("");var t=D+parseFloat(j);U(t),O("")},deliveries:a,tips:D,handleDelete:function(e){var t=e.currentTarget.value;window.confirm("Are you sure you want to delete this delivery?")&&v(t).then((function(){r(a.filter((function(e){return e.id!==t})))}))},handleUpdate:function(e){var t=e.currentTarget.value;a.map((function(e){return e.id!==t?e.update=!1:e.update=!e.update})),x(!M),u(""),g(""),O("")},update:M,handleSave:function(e){if(!Number.isInteger(parseInt(y))||!Number.isInteger(parseInt(j)))return window.alert("Enter a valid input for total and payment"),g(""),void O("");var t=e.currentTarget.value,n=a.find((function(e){return e.id===t}));n.update=!n.update;var l=Object(c.a)(Object(c.a)({},n),{},{address:o,total:y,payment:j});h(t,l).then((function(e){r(a.map((function(a){return a.id!==t?a:e}))),q(!V)})).catch((function(e){console.log("There was an error")})),u(""),g(""),O("")},predictions:H}))};d.a.render(l.a.createElement(k,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.80db0fb1.chunk.js.map